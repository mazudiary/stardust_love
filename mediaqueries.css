 /* --- Responsive Styles --- */
@media (max-width: 1024px) 
    {
    .container {
        padding: clamp(15px, 4vw, 25px);
        margin: 15px;
    }

    h1 {
        font-size: clamp(1.6em, 4.5vw, 2.2em);
    }

    .keyhole {
        width: clamp(70px, 12vw, 90px);
        height: clamp(90px, 18vw, 120px);
    }

    #codeInput {
        width: clamp(180px, 55vw, 220px);
    }

    .lock-button {
        padding: clamp(8px, 1.5vw, 12px) clamp(15px, 3vw, 25px);
    }

    .diagram-container {
        padding: clamp(15px, 3vw, 25px);
    }

    .parent, .daughter {
        margin: clamp(8px, 1.5vw, 12px);
    }

    svg {
        height: clamp(200px, 50vw, 300px); /* Slightly reduced height */
        width: clamp(200px, 80vw, 300px); /* Added width control */
        top: clamp(120px, 30vw, 150px); /* Adjusted positioning */
        left: 0; /* Center alignment */
        transform: translateX(-50%); /* Center SVG horizontally */
        margin-left: 50%; /* Ensure centering */
        }
}

@media (max-width: 768px) {
    body {
        align-items: center; /* keep container centered on mobile */
        padding-top: 0;
    }

    .container {
        padding: clamp(10px, 3vw, 20px);
        margin: 10px;
        max-height: clamp(700px, 140vh, 1400px); /* provide more vertical space on mobile */
    }

    h1 {
        font-size: clamp(1.4em, 4vw, 2em);
    }

    h2 {
        font-size: clamp(1.2em, 3.5vw, 1.6em);
    }

    h3 {
        font-size: clamp(1em, 3vw, 1.4em);
    }

    .keyhole {
        width: clamp(60px, 10vw, 80px);
        height: clamp(80px, 15vw, 100px);
    }

    #codeInput {
        width: clamp(160px, 80vw, 200px);
        font-size: clamp(0.9em, 2.5vw, 1em);
    }

    .lock-button {
        font-size: clamp(0.8em, 2vw, 0.9em);
        padding: clamp(8px, 1.5vw, 10px) clamp(12px, 2.5vw, 20px);
    }

    .hint {
        font-size: clamp(0.8em, 2vw, 0.9em);
    }

    table {
        font-size: clamp(0.7em, 2vw, 0.9em);
    }

    th, td {
        padding: clamp(8px, 1.5vw, 10px);
    }

    blockquote {
        font-size: clamp(0.9em, 2vw, 1em);
        padding: clamp(10px, 2vw, 15px) clamp(15px, 3vw, 20px);
    }

    .parent, .daughter {
        display: block;
        margin: clamp(15px, 3vw, 20px) auto;
        max-width: 90%;
        text-align: center;
    }

    .diagram-container {
        padding-bottom: clamp(220px, 60vw, 400px); /* reserve space for absolute SVG */
    }

    svg {
        height: clamp(150px, 40vw, 250px); /* Further reduced height */
        width: clamp(150px, 70vw, 250px); /* Further reduced width */
        top: clamp(80px, 20vw, 100px); /* Adjusted for smaller layout */
        left: 0;
        transform: translateX(-50%);
        margin-left: 50%;
    }

  /* removed invalid CSS attempting to set SVG path 'd' */
}

@media (max-width: 480px) {
    .container {
        padding: clamp(8px, 2.5vw, 15px);
        margin: 5px;
        min-height: clamp(979px, 145vh, 1600px);
    }

    h1 {
        font-size: clamp(1.2em, 3.5vw, 1.8em);
    }

    h2 {
        font-size: clamp(1em, 3vw, 1.4em);
    }

    h3 {
        font-size: clamp(0.9em, 2.5vw, 1.2em);
    }

    .keyhole {
        width: clamp(50px, 8vw, 60px);
        height: clamp(60px, 12vw, 80px);
    }

    .keyhole::after {
        width: clamp(10px, 2vw, 15px);
        height: clamp(25px, 5vw, 35px);
        bottom: clamp(10px, 2vw, 15px);
    }

    #codeInput {
        width: clamp(140px, 85vw, 180px);
        font-size: clamp(0.8em, 2vw, 0.9em);
    }

    .lock-button {
        font-size: clamp(0.7em, 1.8vw, 0.8em);
        padding: clamp(6px, 1.2vw, 8px) clamp(10px, 2vw, 15px);
    }

    .hint {
        font-size: clamp(0.7em, 1.8vw, 0.8em);
    }

    table {
        font-size: clamp(0.6em, 1.8vw, 0.8em);
    }

    th, td {
        padding: clamp(5px, 1vw, 8px);
    }

    blockquote {
        font-size: clamp(0.8em, 1.8vw, 0.9em);
        padding: clamp(8px, 1.5vw, 12px) clamp(10px, 2vw, 15px);
    }

    .diagram-container {
        padding: clamp(10px, 2vw, 15px);
        padding-bottom: clamp(260px, 80vw, 480px); /* reserve space for absolute SVG */
    }

    .parent, .daughter {
        padding: clamp(8px, 1.5vw, 10px) clamp(10px, 2vw, 15px);
        font-size: clamp(0.8em, 2vw, 0.9em);
    }

    .daughter {
        top: 117px;
    }

    svg {
        left: -268px;
        transform: translateX(-50%);
        margin-left: 50%;
        top: 33px;
    }

}